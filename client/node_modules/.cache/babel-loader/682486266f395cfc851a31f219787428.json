{"ast":null,"code":"const initialState = {\n  videogames: [],\n  intocado: [],\n  allVideogames: [],\n  genres: [],\n  detail: []\n};\n\nfunction rootReducer(state = initialState, action) {\n  console.log(state.detail);\n\n  switch (action.type) {\n    case 'GET_VIDEOGAMES':\n      return { ...state,\n        videogames: action.payload,\n        intocado: action.payload,\n        allVideogames: action.payload\n      };\n\n    case 'GET_NAME_VIDEOGAMES':\n      return { ...state,\n        videogames: action.payload,\n        allVideogames: action.payload,\n        intocado: action.payload\n      };\n\n    case 'GET_DETAILS':\n      return { ...state,\n        detail: action.payload\n      };\n    //------------------------------------------FIN DEL GET_VIDEOGAMES---------------------------------------------------------//\n\n    case 'POST_VIDEOGAME':\n      return { ...state\n      };\n\n    case 'GET_GENRES':\n      return { ...state,\n        genres: action.payload\n      };\n\n    case 'FILTER_BY_RATING':\n      // const ratingFiltered = state.ratingVideogames?.filter(vg => Math.floor(vg.rating) === parseInt(action.rating, 10))\n      const ratingSorted = action.rating === 'btw' ? state.videogames.sort(function (a, b) {\n        if (a.rating > b.rating) {\n          return -1;\n        }\n\n        if (a.rating < b.rating) {\n          return 1;\n        }\n\n        return 0;\n      }) : state.videogames.sort(function (a, b) {\n        if (a.rating > b.rating) {\n          return 1;\n        }\n\n        if (a.rating < b.rating) {\n          return -1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        videogames: action.rating === 'all' ? state.allVideogames : ratingSorted\n      };\n    //------------------------------------------FIN DEL FILTER_BY_RATING---------------------------------------------------------//\n\n    case 'FILTER_CREATED':\n      const untouched = state.intocado;\n      const createdFilter = action.payload === 'dbg' ? untouched.filter(vg => vg.createdInDb) : untouched.filter(vg => !vg.createdInDb);\n      return { ...state,\n        videogames: action.payload === 'all' ? state.allVideogames : createdFilter\n      };\n    //------------------------------------------FIN DEL FILTER_CREATED---------------------------------------------------------//\n\n    case 'ORDER_BY_NAME':\n      const sortedArray = action.payload === 'asc' ? state.videogames.sort(function (a, b) {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return 1;\n        }\n\n        if (a.name.toLowerCase() < b.name.toLowerCase()) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.videogames.sort(function (a, b) {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return -1;\n        }\n\n        if (a.name.toLowerCase() < b.name.toLowerCase()) {\n          return 1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        videogames: sortedArray\n      };\n    //------------------------------------------FIN DEL ORDER_BY_NAME---------------------------------------------------------//\n\n    case 'FILTER_BY_GENRE':\n      const untouched2 = state.videogames;\n      const filterVideogames = untouched2.filter(vg => vg.genres.includes(action.payload));\n      return { ...state,\n        videogames: action.payload === 'all' ? state.allVideogames : filterVideogames\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/ClasesHenry/PI-Videogames/PI-Videogames-main/client/src/reducer/index.js"],"names":["initialState","videogames","intocado","allVideogames","genres","detail","rootReducer","state","action","console","log","type","payload","ratingSorted","rating","sort","a","b","untouched","createdFilter","filter","vg","createdInDb","sortedArray","name","toLowerCase","untouched2","filterVideogames","includes"],"mappings":"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","sourcesContent":["\r\n\r\nconst initialState = {\r\n    videogames: [],\r\n    intocado: [],\r\n    allVideogames: [],\r\n    genres: [],\r\n    detail: [],\r\n    \r\n\r\n}\r\n\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n    console.log(state.detail)\r\n    switch (action.type) {\r\n        case 'GET_VIDEOGAMES': \r\n        return {\r\n            ...state,\r\n            videogames: action.payload,\r\n            intocado: action.payload,\r\n            allVideogames: action.payload\r\n        }\r\n\r\n        case 'GET_NAME_VIDEOGAMES': \r\n        return{\r\n            ...state,\r\n            videogames: action.payload,\r\n            allVideogames: action.payload,\r\n            intocado: action.payload,\r\n        }\r\n        case 'GET_DETAILS': \r\n        return{\r\n            ...state,\r\n            detail: action.payload,\r\n            \r\n        }\r\n\r\n        //------------------------------------------FIN DEL GET_VIDEOGAMES---------------------------------------------------------//\r\n        case 'POST_VIDEOGAME': return{\r\n            ...state,\r\n            \r\n        }\r\n        case 'GET_GENRES': return{\r\n            ...state,\r\n            genres: action.payload,\r\n        }\r\n        case 'FILTER_BY_RATING':\r\n            // const ratingFiltered = state.ratingVideogames?.filter(vg => Math.floor(vg.rating) === parseInt(action.rating, 10))\r\n            const ratingSorted = action.rating === 'btw' ?\r\n            state.videogames.sort(function (a, b) {\r\n                if (a.rating > b.rating) {\r\n                    return -1;\r\n                }\r\n                if (a.rating < b.rating) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            }) : state.videogames.sort(function (a, b) {\r\n                if (a.rating > b.rating) {\r\n                    return 1;\r\n                }\r\n                if (a.rating < b.rating) {\r\n                    return -1;\r\n                }\r\n                return 0;\r\n            }) \r\n            return {\r\n                ...state,\r\n                videogames: action.rating === 'all' ? state.allVideogames : ratingSorted\r\n            }\r\n        //------------------------------------------FIN DEL FILTER_BY_RATING---------------------------------------------------------//\r\n\r\n\r\n        case 'FILTER_CREATED':\r\n            const untouched = state.intocado;\r\n            const createdFilter = action.payload === 'dbg' ? untouched.filter(vg => vg.createdInDb) : untouched.filter(vg => !vg.createdInDb)\r\n            return {\r\n                ...state,\r\n                videogames: action.payload === 'all' ? state.allVideogames : createdFilter\r\n            }\r\n        //------------------------------------------FIN DEL FILTER_CREATED---------------------------------------------------------//\r\n\r\n\r\n        case 'ORDER_BY_NAME':\r\n            const sortedArray = action.payload === 'asc' ?\r\n                state.videogames.sort(function (a, b) {\r\n                    if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n                        return 1;\r\n                    }\r\n                    if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                }) :\r\n                state.videogames.sort(function (a, b) {\r\n                    if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n                        return -1;\r\n                    }\r\n                    if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n                        return 1;\r\n                    }\r\n                    return 0;\r\n                })\r\n            return {\r\n                ...state,\r\n                videogames: sortedArray\r\n            }\r\n        //------------------------------------------FIN DEL ORDER_BY_NAME---------------------------------------------------------//\r\n\r\n        case 'FILTER_BY_GENRE':\r\n            const untouched2 = state.videogames\r\n            const filterVideogames =  untouched2.filter(vg => vg.genres.includes(action.payload));\r\n            return {\r\n                ...state,\r\n                videogames: action.payload === 'all' ? state.allVideogames : filterVideogames \r\n            }\r\n\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default rootReducer;"]},"metadata":{},"sourceType":"module"}